# 공인(Public) IP와 사설(Private) IP와 NAT

> IP 주소의 부족은 공인IP와 사설IP로 나누고, 중간에 NAT 라는 기술을 통해 해결한다.

### NAT

> Network Address Translation의 약자다. 패킷이 트래픽 라우팅 장치를 통해 전송되는 동안 패킷의 IP주소를 변경해 IP주소를 다른 IP주소로 매핑하는 방법이다.

이를 통해 내부 네트워크 IP가 노출되지 않는다는 장점이 있다.

#### 공유기와 NAT

실생활에서 인터넷 회선 하나를 개통하고, 보토 공유기를 사용해 wifi를 만들곤 한다.
이때 여러 대의 호스트가 하나의 공인 IP 주소를 사용해 인터넷에 접속하게 된다.

### HTTP 헤더

> 사용자가 HTTP 요청을 하면 헤더와 바디를 주고 받는다.

헤더는 바디를 설명하는 정보를 초함해서 여러가지 정보가 담긴 정보 묶음이다.
헤더는 콜론으로 서로 구분되는 Key-Value 형태로 설정된다.

굉장히 유연하게 설계가 되어있어서 커스텀하게 만들 수 있다.
하지만 보통은 지정된 key값에 value를 담아 헤더를 설정한다.

예를 들어 쿠키를 설정할 때, 요청헤더에는 Cookie라는 key에 응답헤더에는 Set-cookie라는 key에 쿠키를 담아 설정한다.

HTTP 요청을 할 때, 일반헤더 / 요청헤더 / 응답헤더 가 자동으로 생긴다.
여기서 서버에서 설정하는 헤더를 응답헤더라고 한다.
클라이언트에서 설정하는 헤더를 요청헤더라고 한다.

#### 일반헤더

요청한 URL, 요청 메서드, 해당 자원을 요청할 때 해당 자원의 출처를 나타내는 URL을 노출할지 말지를 정하는 보안 정도가 설정된 Referrer Policy 등이 들어간다.

#### 요청헤더

클라이언트가 서버에 요청할 때, 클라이언트가 설정하는 또는 자동으로 설정되는 헤더다.
메서드, 클라이언트의 OS, 브라우저 정보 등이 담긴다.

#### 응답헤더

서버가 클라이언트에게 응답을 보낼 때, 설정하거나 자동으로 설정되는 헤더다.
서버의 소프트웨어 정보 등이 담긴다.

예를 들어, nginx를 프록시 서버로 두었다면 해당 정보가 표기되는 식이다.
하지만 대부분의 서버는 일반적으로 해커가 서버에서 어떤 소프트웨어를 사용되고 있는지 알기 어렵게 하기 위해 서버 정보를 숨긴다.
